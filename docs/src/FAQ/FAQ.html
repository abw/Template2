[%#
  # IMPORTANT NOTE
  #   This documentation is generated automatically from source
  #   templates.  Any changes you make here may be lost.
  # 
  #   The 'docsrc' documentation source bundle is available for download
  #   from http://www.template-toolkit.org/docs.html and contains all
  #   the source templates, XML files, scripts, etc., from which the
  #   documentation for the Template Toolkit is built.
-%]
[% META book = 'FAQ'
        page = 'FAQ'
%]
[%  WRAPPER toc;
	INCLUDE tocitem title="DESCRIPTION";
	INCLUDE tocitem title="General Questions"
                         subs=["Why is the sky blue?"];
	INCLUDE tocitem title="Template Toolkit Language"
                         subs=["Why doesn't $tt_start_tag a = b IF c $tt_end_tag work as expected?"];
	INCLUDE tocitem title="Plugins"
                         subs=["How do I get the Table plugin to order data across rather than down?", "Accessing Cookies"];
	INCLUDE tocitem title="Extending the Template Toolkit"
                         subs=["Can I serve templates from a database?", "Can I fetch templates via http?", "Miscellaneous"];
	INCLUDE tocitem title="AUTHOR";
	INCLUDE tocitem title="VERSION";
	INCLUDE tocitem title="COPYRIGHT";
    END
%]
<!-- Pod to HTML conversion by the Template Toolkit version 2 -->
[% WRAPPER section
    title="DESCRIPTION"
-%]<p>
This is the Frequently Asked Questions list for the Template Toolkit.
More accurately, it's a very thin placeholder for where the FAQ will
soon be.
</p>
[%- END %]
[% WRAPPER section
    title="General Questions"
-%][% WRAPPER subsection
   title = "Why is the sky blue?"
-%]<p>
Something to do with refraction.
</p>
[%- END %]
[%- END %]
[% WRAPPER section
    title="Template Toolkit Language"
-%][% WRAPPER subsection
   title = "Why doesn't $tt_start_tag a = b IF c $tt_end_tag work as expected?"
-%]<p>
Because the parser interprets it as 
</p>
<pre>    [% tt_start_tag %] a = (b IF c) [% tt_end_tag %]</pre>
<p>
Do this instead:
</p>
<pre>    [% tt_start_tag %] SET a = b IF c [% tt_end_tag %]</pre>
[%- END %]
[%- END %]
[% WRAPPER section
    title="Plugins"
-%][% WRAPPER subsection
   title = "How do I get the Table plugin to order data across rather than down?"
-%]<p>
Order the data into rows:
</p>
<pre>     Steve     Karen     Jeff
     Brooklyn  Nantucket Fairfax
     NY        MA        VA
 
    [% tt_start_tag %] USE table(data, rows=3) [% tt_end_tag %]
 
Then ask for each column
 
    [% tt_start_tag %] FOREACH column = table.cols [% tt_end_tag %]
 
And then print each item in the column going across the output rows
 
    [% tt_start_tag %] FOREACH item = column [% tt_end_tag %]
	&lt;td&gt;[% tt_start_tag %] item [% tt_end_tag %]&lt;/td&gt;
    [% tt_start_tag %] END [% tt_end_tag %]</pre>
[%- END %]
[% WRAPPER subsection
   title = "Accessing Cookies"
-%]<p>
Jeff Boes &lt;boes@nexcerpt.com&gt; writes:
</p>
<pre>    Does anyone have a quick-n-dirty approach to accessing 
    cookies from templates? </pre>
<p>
Jonas Liljegren replies:
</p>
<pre>    [% tt_start_tag %] USE CGI [% tt_end_tag %]
    
    &lt;p&gt;The value is [% tt_start_tag %] CGI.cookie('cookie_name') | html [% tt_end_tag %]</pre>
[%- END %]
[%- END %]
[% WRAPPER section
    title="Extending the Template Toolkit"
-%][% WRAPPER subsection
   title = "Can I serve templates from a database?"
-%]<p>
Short answer: yes, Chris Nandor has done this for Slash.  You need to 
subclass Template::Provider.  See the mailing list archives for further
info.
</p>
[%- END %]
[% WRAPPER subsection
   title = "Can I fetch templates via http?"
-%]<p>
To do the job properly, you should sublcass Template::Provider to 
Template::Provider::HTTP and use a PREFIX_MAP option to bind the 
'http' template prefix to that particular provider (you may want to 
go digging around in the <file>Changes</file> file around version 2.01 for 
more info on PREFIX_MAP - it may not be properly documented anywhere
else...yet!).  e.g. (untested due to lack of existing HTTP Provider
- patches welcome!).
</p>
<pre>    use Template::Provider::HTTP;</pre>
<pre>    my $file = Template::Provider( INCLUDE_PATH =&gt; [...] );
    my $http = Template::Provider::HTTP-&gt;new(...);
    my $tt2  = Template-&gt;new({
	LOAD_TEMPLATES =&gt; [ $file, $http ],
	PREFIX_MAP =&gt; {
	    file    =&gt; '0',	# file:foo.html
	    http    =&gt; '1',	# http:foo.html
	    default =&gt; '0',	# foo.html =&gt; file:foo.html
	}
    });</pre>
<p>
Now a template specified as:
</p>
<pre>    [% tt_start_tag %] INCLUDE foo [% tt_end_tag %]</pre>
<p>
will be served by the 'file' provider (the default).  Otherwise you 
can explicitly add a prefix:
</p>
<pre>    [% tt_start_tag %] INCLUDE file:foo.html [% tt_end_tag %]
    [% tt_start_tag %] INCLUDE http:foo.html [% tt_end_tag %]
    [% tt_start_tag %] INCLUDE http://www.xyz.com/tt2/header.tt2 [% tt_end_tag %]</pre>
<p>
This same principal can be used to create a DBI template provider.  e.g.
</p>
<pre>    [% tt_start_tag %] INCLUDE dbi:foo.html [% tt_end_tag %]</pre>
<p>
But similarly, alas, we don't yet have a DBI provider as part of the 
Template Toolkit.  There has been some talk on the mailing list about
efforts to develop DBI and/or HTTP providers but as yet no-one has 
stepped forward to take up the challenge...
</p>
<p>
In the mean time, Craig's post from the mailing list has some useful
pointers on how to acheive this using existing modules:
</p>
<pre>    To: Adam Theo &lt;adamtheo@theoretic.com&gt; 
    From: Craig Barratt &lt;craig@arraycomm.com&gt;
    Date: Fri, 18 May 2001 17:06:59 -0700
      
    &gt; i was wondering if there is anyway to fetch a file using http:// or
    &gt; ftp:// and include that?
      
    Here's one way.  Set the LOAD_PERL option:
      
    	use Template;
     
    	my $template = Template-&gt;new({  
    	    LOAD_PERL =&gt; 1
    	});  
    	$template-&gt;process(&quot;example.tt&quot;, { stdout =&gt; *STDOUT })
    				     || die $template-&gt;error();
     
    and then use LWP::UserAgent and HTTP::Request:
     
    	[% tt_start_tag %] 
    	    USE ua = LWP.UserAgent; 
    	    ua.proxy(&quot;http&quot;, &quot;http://your_proxy/&quot;);
    	    USE req = HTTP.Request(&quot;GET&quot;, &quot;http://www.cpan.org&quot;);
    	    ua.request(req).content;
    	-[% tt_end_tag %]
     
    For FTP use Net::FTP:
     
    	[% tt_start_tag %]   
    	    USE ftp = Net.FTP(&quot;ftp.cpan.org&quot;);
    	    x = ftp.login(&quot;anonymous&quot;, &quot;me@here.there&quot;);
    	    x = ftp.cwd(&quot;/&quot;);
    	    x = ftp.get(&quot;welcome.msg&quot;, stdout);
    	    x = ftp.quit;
    	-[% tt_end_tag %]
     
    Normally ftp.get would write the file into the current directory.
    Instead we pass stdout as a second argument so that it is written
    to stdout.  We set stdout to STDOUT in the variables we pass to
    process. 
     
    Craig</pre>
[%- END %]
[% WRAPPER subsection
   title = "Miscellaneous"
-%]
<ul>

<li><b>Can I have another cup of coffee?</b><br>
<p>
No, I think you've hhhaadd ennnough alllrready.
</p>

</ul>
[%- END %]
[%- END %]
[% WRAPPER section
    title="AUTHOR"
-%]<p>
Andy Wardley &lt;abw@kfs.org&gt;
</p>
<p>
[% ttlink('http://www.andywardley.com/', 'http://www.andywardley.com/') -%]
</p>
[%- END %]
[% WRAPPER section
    title="VERSION"
-%]<p>
2.28, distributed as part of the
Template Toolkit version 2.05b, released on 21 September 2001.
</p>
[%- END %]
[% WRAPPER section
    title="COPYRIGHT"
-%]<pre>  Copyright (C) 1996-2001 Andy Wardley.  All Rights Reserved.
  Copyright (C) 1998-2001 Canon Research Centre Europe Ltd.</pre>
<p>
This module is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.
</p>
[%- END %]


